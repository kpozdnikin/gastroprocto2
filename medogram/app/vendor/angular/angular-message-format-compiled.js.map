{"version":3,"sources":["angular-message-format.js"],"names":[],"mappings":"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","file":"angular-message-format-compiled.js","sourcesContent":["/**\n * @license AngularJS v1.5.7\n * (c) 2010-2016 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function(window, angular) {'use strict';\n\n// NOTE: ADVANCED_OPTIMIZATIONS mode.\n//\n// This file is compiled with Closure compiler's ADVANCED_OPTIMIZATIONS flag! Be wary of using\n// constructs incompatible with that mode.\n\nvar $interpolateMinErr = window['angular']['$interpolateMinErr'];\n\nvar noop = window['angular']['noop'],\n    isFunction = window['angular']['isFunction'],\n    toJson = window['angular']['toJson'];\n\nfunction stringify(value) {\n  if (value == null /* null/undefined */) { return ''; }\n  switch (typeof value) {\n    case 'string':     return value;\n    case 'number':     return '' + value;\n    default:           return toJson(value);\n  }\n}\n\n// Convert an index into the string into line/column for use in error messages\n// As such, this doesn't have to be efficient.\nfunction indexToLineAndColumn(text, index) {\n  var lines = text.split(/\\n/g);\n  for (var i=0; i < lines.length; i++) {\n    var line=lines[i];\n    if (index >= line.length) {\n      index -= line.length;\n    } else {\n      return { line: i + 1, column: index + 1 };\n    }\n  }\n}\nvar PARSE_CACHE_FOR_TEXT_LITERALS = Object.create(null);\n\nfunction parseTextLiteral(text) {\n  var cachedFn = PARSE_CACHE_FOR_TEXT_LITERALS[text];\n  if (cachedFn != null) {\n    return cachedFn;\n  }\n  function parsedFn(context) { return text; }\n  parsedFn['$$watchDelegate'] = function watchDelegate(scope, listener, objectEquality) {\n    var unwatch = scope['$watch'](noop,\n        function textLiteralWatcher() {\n          if (isFunction(listener)) { listener.call(null, text, text, scope); }\n          unwatch();\n        },\n        objectEquality);\n    return unwatch;\n  };\n  PARSE_CACHE_FOR_TEXT_LITERALS[text] = parsedFn;\n  parsedFn['exp'] = text; // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n  parsedFn['expressions'] = []; // Require this to call $compile.$$addBindingInfo() which allows Protractor to find elements by binding.\n  return parsedFn;\n}\n\nfunction subtractOffset(expressionFn, offset) {\n  if (offset === 0) {\n    return expressionFn;\n  }\n  function minusOffset(value) {\n    return (value == void 0) ? value : value - offset;\n  }\n  function parsedFn(context) { return minusOffset(expressionFn(context)); }\n  var unwatch;\n  parsedFn['$$watchDelegate'] = function watchDelegate(scope, listener, objectEquality) {\n    unwatch = scope['$watch'](expressionFn,\n        function pluralExpressionWatchListener(newValue, oldValue) {\n          if (isFunction(listener)) { listener.call(null, minusOffset(newValue), minusOffset(oldValue), scope); }\n        },\n        objectEquality);\n    return unwatch;\n  };\n  return parsedFn;\n}\n\n// NOTE: ADVANCED_OPTIMIZATIONS mode.\n//\n// This file is compiled with Closure compiler's ADVANCED_OPTIMIZATIONS flag! Be wary of using\n// constructs incompatible with that mode.\n\n/* global $interpolateMinErr: false */\n/* global isFunction: false */\n/* global noop: false */\n\n/**\n * @constructor\n * @private\n */\nfunction MessageSelectorBase(expressionFn, choices) {\n  var self = this;\n  this.expressionFn = expressionFn;\n  this.choices = choices;\n  if (choices[\"other\"] === void 0) {\n    throw $interpolateMinErr('reqother', '“other” is a required option.');\n  }\n  this.parsedFn = function(context) { return self.getResult(context); };\n  this.parsedFn['$$watchDelegate'] = function $$watchDelegate(scope, listener, objectEquality) {\n    return self.watchDelegate(scope, listener, objectEquality);\n  };\n  this.parsedFn['exp'] = expressionFn['exp'];\n  this.parsedFn['expressions'] = expressionFn['expressions'];\n}\n\nMessageSelectorBase.prototype.getMessageFn = function getMessageFn(value) {\n  return this.choices[this.categorizeValue(value)];\n};\n\nMessageSelectorBase.prototype.getResult = function getResult(context) {\n  return this.getMessageFn(this.expressionFn(context))(context);\n};\n\nMessageSelectorBase.prototype.watchDelegate = function watchDelegate(scope, listener, objectEquality) {\n  var watchers = new MessageSelectorWatchers(this, scope, listener, objectEquality);\n  return function() { watchers.cancelWatch(); };\n};\n\n/**\n * @constructor\n * @private\n */\nfunction MessageSelectorWatchers(msgSelector, scope, listener, objectEquality) {\n  var self = this;\n  this.scope = scope;\n  this.msgSelector = msgSelector;\n  this.listener = listener;\n  this.objectEquality = objectEquality;\n  this.lastMessage = void 0;\n  this.messageFnWatcher = noop;\n  var expressionFnListener = function(newValue, oldValue) { return self.expressionFnListener(newValue, oldValue); };\n  this.expressionFnWatcher = scope['$watch'](msgSelector.expressionFn, expressionFnListener, objectEquality);\n}\n\nMessageSelectorWatchers.prototype.expressionFnListener = function expressionFnListener(newValue, oldValue) {\n  var self = this;\n  this.messageFnWatcher();\n  var messageFnListener = function(newMessage, oldMessage) { return self.messageFnListener(newMessage, oldMessage); };\n  var messageFn = this.msgSelector.getMessageFn(newValue);\n  this.messageFnWatcher = this.scope['$watch'](messageFn, messageFnListener, this.objectEquality);\n};\n\nMessageSelectorWatchers.prototype.messageFnListener = function messageFnListener(newMessage, oldMessage) {\n  if (isFunction(this.listener)) {\n    this.listener.call(null, newMessage, newMessage === oldMessage ? newMessage : this.lastMessage, this.scope);\n  }\n  this.lastMessage = newMessage;\n};\n\nMessageSelectorWatchers.prototype.cancelWatch = function cancelWatch() {\n  this.expressionFnWatcher();\n  this.messageFnWatcher();\n};\n\n/**\n * @constructor\n * @extends MessageSelectorBase\n * @private\n */\nfunction SelectMessage(expressionFn, choices) {\n  MessageSelectorBase.call(this, expressionFn, choices);\n}\n\nfunction SelectMessageProto() {}\nSelectMessageProto.prototype = MessageSelectorBase.prototype;\n\nSelectMessage.prototype = new SelectMessageProto();\nSelectMessage.prototype.categorizeValue = function categorizeSelectValue(value) {\n  return (this.choices[value] !== void 0) ? value : \"other\";\n};\n\n/**\n * @constructor\n * @extends MessageSelectorBase\n * @private\n */\nfunction PluralMessage(expressionFn, choices, offset, pluralCat) {\n  MessageSelectorBase.call(this, expressionFn, choices);\n  this.offset = offset;\n  this.pluralCat = pluralCat;\n}\n\nfunction PluralMessageProto() {}\nPluralMessageProto.prototype = MessageSelectorBase.prototype;\n\nPluralMessage.prototype = new PluralMessageProto();\nPluralMessage.prototype.categorizeValue = function categorizePluralValue(value) {\n  if (isNaN(value)) {\n    return \"other\";\n  } else if (this.choices[value] !== void 0) {\n    return value;\n  } else {\n    var category = this.pluralCat(value - this.offset);\n    return (this.choices[category] !== void 0) ? category : \"other\";\n  }\n};\n\n// NOTE: ADVANCED_OPTIMIZATIONS mode.\n//\n// This file is compiled with Closure compiler's ADVANCED_OPTIMIZATIONS flag! Be wary of using\n// constructs incompatible with that mode.\n\n/* global $interpolateMinErr: false */\n/* global isFunction: false */\n/* global parseTextLiteral: false */\n\n/**\n * @constructor\n * @private\n */\nfunction InterpolationParts(trustedContext, allOrNothing) {\n  this.trustedContext = trustedContext;\n  this.allOrNothing = allOrNothing;\n  this.textParts = [];\n  this.expressionFns = [];\n  this.expressionIndices = [];\n  this.partialText = '';\n  this.concatParts = null;\n}\n\nInterpolationParts.prototype.flushPartialText = function flushPartialText() {\n  if (this.partialText) {\n    if (this.concatParts == null) {\n      this.textParts.push(this.partialText);\n    } else {\n      this.textParts.push(this.concatParts.join(''));\n      this.concatParts = null;\n    }\n    this.partialText = '';\n  }\n};\n\nInterpolationParts.prototype.addText = function addText(text) {\n  if (text.length) {\n    if (!this.partialText) {\n      this.partialText = text;\n    } else if (this.concatParts) {\n      this.concatParts.push(text);\n    } else {\n      this.concatParts = [this.partialText, text];\n    }\n  }\n};\n\nInterpolationParts.prototype.addExpressionFn = function addExpressionFn(expressionFn) {\n  this.flushPartialText();\n  this.expressionIndices.push(this.textParts.length);\n  this.expressionFns.push(expressionFn);\n  this.textParts.push('');\n};\n\nInterpolationParts.prototype.getExpressionValues = function getExpressionValues(context) {\n  var expressionValues = new Array(this.expressionFns.length);\n  for (var i = 0; i < this.expressionFns.length; i++) {\n    expressionValues[i] = this.expressionFns[i](context);\n  }\n  return expressionValues;\n};\n\nInterpolationParts.prototype.getResult = function getResult(expressionValues) {\n  for (var i = 0; i < this.expressionIndices.length; i++) {\n    var expressionValue = expressionValues[i];\n    if (this.allOrNothing && expressionValue === void 0) return;\n    this.textParts[this.expressionIndices[i]] = expressionValue;\n  }\n  return this.textParts.join('');\n};\n\n\nInterpolationParts.prototype.toParsedFn = function toParsedFn(mustHaveExpression, originalText) {\n  var self = this;\n  this.flushPartialText();\n  if (mustHaveExpression && this.expressionFns.length === 0) {\n    return void 0;\n  }\n  if (this.textParts.length === 0) {\n    return parseTextLiteral('');\n  }\n  if (this.trustedContext && this.textParts.length > 1) {\n    $interpolateMinErr['throwNoconcat'](originalText);\n  }\n  if (this.expressionFns.length === 0) {\n    if (this.textParts.length != 1) { this.errorInParseLogic(); }\n    return parseTextLiteral(this.textParts[0]);\n  }\n  var parsedFn = function(context) {\n    return self.getResult(self.getExpressionValues(context));\n  };\n  parsedFn['$$watchDelegate'] = function $$watchDelegate(scope, listener, objectEquality) {\n    return self.watchDelegate(scope, listener, objectEquality);\n  };\n\n  parsedFn['exp'] = originalText; // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n  parsedFn['expressions'] = new Array(this.expressionFns.length); // Require this to call $compile.$$addBindingInfo() which allows Protractor to find elements by binding.\n  for (var i = 0; i < this.expressionFns.length; i++) {\n    parsedFn['expressions'][i] = this.expressionFns[i]['exp'];\n  }\n\n  return parsedFn;\n};\n\nInterpolationParts.prototype.watchDelegate = function watchDelegate(scope, listener, objectEquality) {\n  var watcher = new InterpolationPartsWatcher(this, scope, listener, objectEquality);\n  return function() { watcher.cancelWatch(); };\n};\n\nfunction InterpolationPartsWatcher(interpolationParts, scope, listener, objectEquality) {\n  this.interpolationParts = interpolationParts;\n  this.scope = scope;\n  this.previousResult = (void 0);\n  this.listener = listener;\n  var self = this;\n  this.expressionFnsWatcher = scope['$watchGroup'](interpolationParts.expressionFns, function(newExpressionValues, oldExpressionValues) {\n    self.watchListener(newExpressionValues, oldExpressionValues);\n  });\n}\n\nInterpolationPartsWatcher.prototype.watchListener = function watchListener(newExpressionValues, oldExpressionValues) {\n  var result = this.interpolationParts.getResult(newExpressionValues);\n  if (isFunction(this.listener)) {\n    this.listener.call(null, result, newExpressionValues === oldExpressionValues ? result : this.previousResult, this.scope);\n  }\n  this.previousResult = result;\n};\n\nInterpolationPartsWatcher.prototype.cancelWatch = function cancelWatch() {\n  this.expressionFnsWatcher();\n};\n\n// NOTE: ADVANCED_OPTIMIZATIONS mode.\n//\n// This file is compiled with Closure compiler's ADVANCED_OPTIMIZATIONS flag! Be wary of using\n// constructs incompatible with that mode.\n\n/* global $interpolateMinErr: false */\n/* global indexToLineAndColumn: false */\n/* global InterpolationParts: false */\n/* global PluralMessage: false */\n/* global SelectMessage: false */\n/* global subtractOffset: false */\n\n// The params src and dst are exactly one of two types: NestedParserState or MessageFormatParser.\n// This function is fully optimized by V8. (inspect via IRHydra or --trace-deopt.)\n// The idea behind writing it this way is to avoid repeating oneself.  This is the ONE place where\n// the parser state that is saved/restored when parsing nested mustaches is specified.\nfunction copyNestedParserState(src, dst) {\n  dst.expressionFn = src.expressionFn;\n  dst.expressionMinusOffsetFn = src.expressionMinusOffsetFn;\n  dst.pluralOffset = src.pluralOffset;\n  dst.choices = src.choices;\n  dst.choiceKey = src.choiceKey;\n  dst.interpolationParts = src.interpolationParts;\n  dst.ruleChoiceKeyword = src.ruleChoiceKeyword;\n  dst.msgStartIndex = src.msgStartIndex;\n  dst.expressionStartIndex = src.expressionStartIndex;\n}\n\nfunction NestedParserState(parser) {\n  copyNestedParserState(parser, this);\n}\n\n/**\n * @constructor\n * @private\n */\nfunction MessageFormatParser(text, startIndex, $parse, pluralCat, stringifier,\n                             mustHaveExpression, trustedContext, allOrNothing) {\n  this.text = text;\n  this.index = startIndex || 0;\n  this.$parse = $parse;\n  this.pluralCat = pluralCat;\n  this.stringifier = stringifier;\n  this.mustHaveExpression = !!mustHaveExpression;\n  this.trustedContext = trustedContext;\n  this.allOrNothing = !!allOrNothing;\n  this.expressionFn = null;\n  this.expressionMinusOffsetFn = null;\n  this.pluralOffset = null;\n  this.choices = null;\n  this.choiceKey = null;\n  this.interpolationParts = null;\n  this.msgStartIndex = null;\n  this.nestedStateStack = [];\n  this.parsedFn = null;\n  this.rule = null;\n  this.ruleStack = null;\n  this.ruleChoiceKeyword = null;\n  this.interpNestLevel = null;\n  this.expressionStartIndex = null;\n  this.stringStartIndex = null;\n  this.stringQuote = null;\n  this.stringInterestsRe = null;\n  this.angularOperatorStack = null;\n  this.textPart = null;\n}\n\n// preserve v8 optimization.\nvar EMPTY_STATE = new NestedParserState(new MessageFormatParser(\n        /* text= */ '', /* startIndex= */ 0, /* $parse= */ null, /* pluralCat= */ null, /* stringifier= */ null,\n        /* mustHaveExpression= */ false, /* trustedContext= */ null, /* allOrNothing */ false));\n\nMessageFormatParser.prototype.pushState = function pushState() {\n  this.nestedStateStack.push(new NestedParserState(this));\n  copyNestedParserState(EMPTY_STATE, this);\n};\n\nMessageFormatParser.prototype.popState = function popState() {\n  if (this.nestedStateStack.length === 0) {\n    this.errorInParseLogic();\n  }\n  var previousState = this.nestedStateStack.pop();\n  copyNestedParserState(previousState, this);\n};\n\n// Oh my JavaScript!  Who knew you couldn't match a regex at a specific\n// location in a string but will always search forward?!\n// Apparently you'll be growing this ability via the sticky flag (y) in\n// ES6.  I'll just to work around you for now.\nMessageFormatParser.prototype.matchRe = function matchRe(re, search) {\n  re.lastIndex = this.index;\n  var match = re.exec(this.text);\n  if (match != null && (search === true || (match.index == this.index))) {\n    this.index = re.lastIndex;\n    return match;\n  }\n  return null;\n};\n\nMessageFormatParser.prototype.searchRe = function searchRe(re) {\n  return this.matchRe(re, true);\n};\n\n\nMessageFormatParser.prototype.consumeRe = function consumeRe(re) {\n  // Without the sticky flag, we can't use the .test() method to consume a\n  // match at the current index.  Instead, we'll use the slower .exec() method\n  // and verify match.index.\n  return !!this.matchRe(re);\n};\n\n// Run through our grammar avoiding deeply nested function call chains.\nMessageFormatParser.prototype.run = function run(initialRule) {\n  this.ruleStack = [initialRule];\n  do {\n    this.rule = this.ruleStack.pop();\n    while (this.rule) {\n      this.rule();\n    }\n    this.assertRuleOrNull(this.rule);\n  } while (this.ruleStack.length > 0);\n};\n\nMessageFormatParser.prototype.errorInParseLogic = function errorInParseLogic() {\n    throw $interpolateMinErr('logicbug',\n        'The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”',\n        this.text);\n};\n\nMessageFormatParser.prototype.assertRuleOrNull = function assertRuleOrNull(rule) {\n  if (rule === void 0) {\n    this.errorInParseLogic();\n  }\n};\n\nvar NEXT_WORD_RE = /\\s*(\\w+)\\s*/g;\nMessageFormatParser.prototype.errorExpecting = function errorExpecting() {\n  // What was wrong with the syntax? Unsupported type, missing comma, or something else?\n  var match = this.matchRe(NEXT_WORD_RE), position;\n  if (match == null) {\n    position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('reqarg',\n        'Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”',\n        position.line, position.column, this.text);\n  }\n  var word = match[1];\n  if (word == \"select\" || word == \"plural\") {\n    position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('reqcomma',\n        'Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”',\n        word, position.line, position.column, this.text);\n  } else {\n    position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('unknarg',\n        'Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”',\n        word, position.line, position.column, this.text);\n  }\n};\n\nvar STRING_START_RE = /['\"]/g;\nMessageFormatParser.prototype.ruleString = function ruleString() {\n  var match = this.matchRe(STRING_START_RE);\n  if (match == null) {\n    var position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('wantstring',\n        'Expected the beginning of a string at line {0}, column {1} in text “{2}”',\n        position.line, position.column, this.text);\n  }\n  this.startStringAtMatch(match);\n};\n\nMessageFormatParser.prototype.startStringAtMatch = function startStringAtMatch(match) {\n  this.stringStartIndex = match.index;\n  this.stringQuote = match[0];\n  this.stringInterestsRe = this.stringQuote == \"'\" ? SQUOTED_STRING_INTEREST_RE : DQUOTED_STRING_INTEREST_RE;\n  this.rule = this.ruleInsideString;\n};\n\nvar SQUOTED_STRING_INTEREST_RE = /\\\\(?:\\\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\\r\\n|\\n|[\\s\\S])|'/g;\nvar DQUOTED_STRING_INTEREST_RE = /\\\\(?:\\\\|\"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\\r\\n|\\n|[\\s\\S])|\"/g;\nMessageFormatParser.prototype.ruleInsideString = function ruleInsideString() {\n  var match = this.searchRe(this.stringInterestsRe);\n  if (match == null) {\n    var position = indexToLineAndColumn(this.text, this.stringStartIndex);\n    throw $interpolateMinErr('untermstr',\n        'The string beginning at line {0}, column {1} is unterminated in text “{2}”',\n        position.line, position.column, this.text);\n  }\n  var chars = match[0];\n  if (match == this.stringQuote) {\n    this.rule = null;\n  }\n};\n\nvar PLURAL_OR_SELECT_ARG_TYPE_RE = /\\s*(plural|select)\\s*,\\s*/g;\nMessageFormatParser.prototype.rulePluralOrSelect = function rulePluralOrSelect() {\n  var match = this.searchRe(PLURAL_OR_SELECT_ARG_TYPE_RE);\n  if (match == null) {\n    this.errorExpecting();\n  }\n  var argType = match[1];\n  switch (argType) {\n    case \"plural\": this.rule = this.rulePluralStyle; break;\n    case \"select\": this.rule = this.ruleSelectStyle; break;\n    default: this.errorInParseLogic();\n  }\n};\n\nMessageFormatParser.prototype.rulePluralStyle = function rulePluralStyle() {\n  this.choices = Object.create(null);\n  this.ruleChoiceKeyword = this.rulePluralValueOrKeyword;\n  this.rule = this.rulePluralOffset;\n};\n\nMessageFormatParser.prototype.ruleSelectStyle = function ruleSelectStyle() {\n  this.choices = Object.create(null);\n  this.ruleChoiceKeyword = this.ruleSelectKeyword;\n  this.rule = this.ruleSelectKeyword;\n};\n\nvar NUMBER_RE = /[0]|(?:[1-9][0-9]*)/g;\nvar PLURAL_OFFSET_RE = new RegExp(\"\\\\s*offset\\\\s*:\\\\s*(\" + NUMBER_RE.source + \")\", \"g\");\n\nMessageFormatParser.prototype.rulePluralOffset = function rulePluralOffset() {\n  var match = this.matchRe(PLURAL_OFFSET_RE);\n  this.pluralOffset = (match == null) ? 0 : parseInt(match[1], 10);\n  this.expressionMinusOffsetFn = subtractOffset(this.expressionFn, this.pluralOffset);\n  this.rule = this.rulePluralValueOrKeyword;\n};\n\nMessageFormatParser.prototype.assertChoiceKeyIsNew = function assertChoiceKeyIsNew(choiceKey, index) {\n  if (this.choices[choiceKey] !== void 0) {\n    var position = indexToLineAndColumn(this.text, index);\n    throw $interpolateMinErr('dupvalue',\n        'The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”',\n        choiceKey, position.line, position.column, this.text);\n  }\n};\n\nvar SELECT_KEYWORD = /\\s*(\\w+)/g;\nMessageFormatParser.prototype.ruleSelectKeyword = function ruleSelectKeyword() {\n  var match = this.matchRe(SELECT_KEYWORD);\n  if (match == null) {\n    this.parsedFn = new SelectMessage(this.expressionFn, this.choices).parsedFn;\n    this.rule = null;\n    return;\n  }\n  this.choiceKey = match[1];\n  this.assertChoiceKeyIsNew(this.choiceKey, match.index);\n  this.rule = this.ruleMessageText;\n};\n\nvar EXPLICIT_VALUE_OR_KEYWORD_RE = new RegExp(\"\\\\s*(?:(?:=(\" + NUMBER_RE.source + \"))|(\\\\w+))\", \"g\");\nMessageFormatParser.prototype.rulePluralValueOrKeyword = function rulePluralValueOrKeyword() {\n  var match = this.matchRe(EXPLICIT_VALUE_OR_KEYWORD_RE);\n  if (match == null) {\n    this.parsedFn = new PluralMessage(this.expressionFn, this.choices, this.pluralOffset, this.pluralCat).parsedFn;\n    this.rule = null;\n    return;\n  }\n  if (match[1] != null) {\n    this.choiceKey = parseInt(match[1], 10);\n  } else {\n    this.choiceKey = match[2];\n  }\n  this.assertChoiceKeyIsNew(this.choiceKey, match.index);\n  this.rule = this.ruleMessageText;\n};\n\nvar BRACE_OPEN_RE = /\\s*{/g;\nvar BRACE_CLOSE_RE = /}/g;\nMessageFormatParser.prototype.ruleMessageText = function ruleMessageText() {\n  if (!this.consumeRe(BRACE_OPEN_RE)) {\n    var position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('reqopenbrace',\n        'The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”',\n        this.choiceKey, position.line, position.column, this.text);\n  }\n  this.msgStartIndex = this.index;\n  this.interpolationParts = new InterpolationParts(this.trustedContext, this.allOrNothing);\n  this.rule = this.ruleInInterpolationOrMessageText;\n};\n\n// Note: Since \"\\\" is used as an escape character, don't allow it to be part of the\n// startSymbol/endSymbol when I add the feature to allow them to be redefined.\nvar INTERP_OR_END_MESSAGE_RE = /\\\\.|{{|}/g;\nvar INTERP_OR_PLURALVALUE_OR_END_MESSAGE_RE = /\\\\.|{{|#|}/g;\nvar ESCAPE_OR_MUSTACHE_BEGIN_RE = /\\\\.|{{/g;\nMessageFormatParser.prototype.advanceInInterpolationOrMessageText = function advanceInInterpolationOrMessageText() {\n  var currentIndex = this.index, match, re;\n  if (this.ruleChoiceKeyword == null) { // interpolation\n    match = this.searchRe(ESCAPE_OR_MUSTACHE_BEGIN_RE);\n    if (match == null) { // End of interpolation text.  Nothing more to process.\n      this.textPart = this.text.substring(currentIndex);\n      this.index = this.text.length;\n      return null;\n    }\n  } else {\n    match = this.searchRe(this.ruleChoiceKeyword == this.rulePluralValueOrKeyword ?\n                          INTERP_OR_PLURALVALUE_OR_END_MESSAGE_RE : INTERP_OR_END_MESSAGE_RE);\n    if (match == null) {\n      var position = indexToLineAndColumn(this.text, this.msgStartIndex);\n      throw $interpolateMinErr('reqendbrace',\n          'The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”',\n          this.choiceKey, position.line, position.column, this.text);\n    }\n  }\n  // match is non-null.\n  var token = match[0];\n  this.textPart = this.text.substring(currentIndex, match.index);\n  return token;\n};\n\nMessageFormatParser.prototype.ruleInInterpolationOrMessageText = function ruleInInterpolationOrMessageText() {\n  var currentIndex = this.index;\n  var token = this.advanceInInterpolationOrMessageText();\n  if (token == null) {\n    // End of interpolation text.  Nothing more to process.\n    this.index = this.text.length;\n    this.interpolationParts.addText(this.text.substring(currentIndex));\n    this.rule = null;\n    return;\n  }\n  if (token[0] == \"\\\\\") {\n    // unescape next character and continue\n    this.interpolationParts.addText(this.textPart + token[1]);\n    return;\n  }\n  this.interpolationParts.addText(this.textPart);\n  if (token == \"{{\") {\n    this.pushState();\n    this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage);\n    this.rule = this.ruleEnteredMustache;\n  } else if (token == \"}\") {\n    this.choices[this.choiceKey] = this.interpolationParts.toParsedFn(/*mustHaveExpression=*/false, this.text);\n    this.rule = this.ruleChoiceKeyword;\n  } else if (token == \"#\") {\n    this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn);\n  } else {\n    this.errorInParseLogic();\n  }\n};\n\nMessageFormatParser.prototype.ruleInterpolate = function ruleInterpolate() {\n  this.interpolationParts = new InterpolationParts(this.trustedContext, this.allOrNothing);\n  this.rule = this.ruleInInterpolation;\n};\n\nMessageFormatParser.prototype.ruleInInterpolation = function ruleInInterpolation() {\n  var currentIndex = this.index;\n  var match = this.searchRe(ESCAPE_OR_MUSTACHE_BEGIN_RE);\n  if (match == null) {\n    // End of interpolation text.  Nothing more to process.\n    this.index = this.text.length;\n    this.interpolationParts.addText(this.text.substring(currentIndex));\n    this.parsedFn = this.interpolationParts.toParsedFn(this.mustHaveExpression, this.text);\n    this.rule = null;\n    return;\n  }\n  var token = match[0];\n  if (token[0] == \"\\\\\") {\n    // unescape next character and continue\n    this.interpolationParts.addText(this.text.substring(currentIndex, match.index) + token[1]);\n    return;\n  }\n  this.interpolationParts.addText(this.text.substring(currentIndex, match.index));\n  this.pushState();\n  this.ruleStack.push(this.ruleInterpolationEndMustache);\n  this.rule = this.ruleEnteredMustache;\n};\n\nMessageFormatParser.prototype.ruleInterpolationEndMustache = function ruleInterpolationEndMustache() {\n  var expressionFn = this.parsedFn;\n  this.popState();\n  this.interpolationParts.addExpressionFn(expressionFn);\n  this.rule = this.ruleInInterpolation;\n};\n\nMessageFormatParser.prototype.ruleEnteredMustache = function ruleEnteredMustache() {\n  this.parsedFn = null;\n  this.ruleStack.push(this.ruleEndMustache);\n  this.rule = this.ruleAngularExpression;\n};\n\nMessageFormatParser.prototype.ruleEndMustacheInInterpolationOrMessage = function ruleEndMustacheInInterpolationOrMessage() {\n  var expressionFn = this.parsedFn;\n  this.popState();\n  this.interpolationParts.addExpressionFn(expressionFn);\n  this.rule = this.ruleInInterpolationOrMessageText;\n};\n\n\n\nvar INTERP_END_RE = /\\s*}}/g;\nMessageFormatParser.prototype.ruleEndMustache = function ruleEndMustache() {\n  var match = this.matchRe(INTERP_END_RE);\n  if (match == null) {\n    var position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('reqendinterp',\n        'Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”',\n        '}}', position.line, position.column, this.text);\n  }\n  if (this.parsedFn == null) {\n    // If we parsed a MessageFormat extension, (e.g. select/plural today, maybe more some other\n    // day), then the result *has* to be a string and those rules would have already set\n    // this.parsedFn.  If there was no MessageFormat extension, then there is no requirement to\n    // stringify the result and parsedFn isn't set.  We set it here.  While we could have set it\n    // unconditionally when exiting the Angular expression, I intend for us to not just replace\n    // $interpolate, but also to replace $parse in a future version (so ng-bind can work), and in\n    // such a case we do not want to unnecessarily stringify something if it's not going to be used\n    // in a string context.\n    this.parsedFn = this.$parse(this.expressionFn, this.stringifier);\n    this.parsedFn['exp'] = this.expressionFn['exp']; // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n    this.parsedFn['expressions'] = this.expressionFn['expressions']; // Require this to call $compile.$$addBindingInfo() which allows Protractor to find elements by binding.\n  }\n  this.rule = null;\n};\n\nMessageFormatParser.prototype.ruleAngularExpression = function ruleAngularExpression() {\n  this.angularOperatorStack = [];\n  this.expressionStartIndex = this.index;\n  this.rule = this.ruleInAngularExpression;\n};\n\nfunction getEndOperator(opBegin) {\n  switch (opBegin) {\n    case \"{\": return \"}\";\n    case \"[\": return \"]\";\n    case \"(\": return \")\";\n    default: return null;\n  }\n}\n\nfunction getBeginOperator(opEnd) {\n  switch (opEnd) {\n    case \"}\": return \"{\";\n    case \"]\": return \"[\";\n    case \")\": return \"(\";\n    default: return null;\n  }\n}\n\n// TODO(chirayu): The interpolation endSymbol must also be accounted for. It\n// just so happens that \"}\" is an operator so it's in the list below.  But we\n// should support any other type of start/end interpolation symbol.\nvar INTERESTING_OPERATORS_RE = /[[\\]{}()'\",]/g;\nMessageFormatParser.prototype.ruleInAngularExpression = function ruleInAngularExpression() {\n  var startIndex = this.index;\n  var match = this.searchRe(INTERESTING_OPERATORS_RE);\n  var position;\n  if (match == null) {\n    if (this.angularOperatorStack.length === 0) {\n      // This is the end of the Angular expression so this is actually a\n      // success.  Note that when inside an interpolation, this means we even\n      // consumed the closing interpolation symbols if they were curlies.  This\n      // is NOT an error at this point but will become an error further up the\n      // stack when the part that saw the opening curlies is unable to find the\n      // closing ones.\n      this.index = this.text.length;\n      this.expressionFn = this.$parse(this.text.substring(this.expressionStartIndex, this.index));\n      // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n      this.expressionFn['exp'] = this.text.substring(this.expressionStartIndex, this.index);\n      this.expressionFn['expressions'] = this.expressionFn['expressions'];\n      this.rule = null;\n      return;\n    }\n    var innermostOperator = this.angularOperatorStack[0];\n    throw $interpolateMinErr('badexpr',\n        'Unexpected end of Angular expression.  Expecting operator “{0}” at the end of the text “{1}”',\n        this.getEndOperator(innermostOperator), this.text);\n  }\n  var operator = match[0];\n  if (operator == \"'\" || operator == '\"') {\n    this.ruleStack.push(this.ruleInAngularExpression);\n    this.startStringAtMatch(match);\n    return;\n  }\n  if (operator == \",\") {\n    if (this.trustedContext) {\n      position = indexToLineAndColumn(this.text, this.index);\n      throw $interpolateMinErr('unsafe',\n          'Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”',\n          this.trustedContext, position.line, position.column, this.text);\n    }\n    // only the top level comma has relevance.\n    if (this.angularOperatorStack.length === 0) {\n      // todo: does this need to be trimmed?\n      this.expressionFn = this.$parse(this.text.substring(this.expressionStartIndex, match.index));\n      // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n      this.expressionFn['exp'] = this.text.substring(this.expressionStartIndex, match.index);\n      this.expressionFn['expressions'] = this.expressionFn['expressions'];\n      this.rule = null;\n      this.rule = this.rulePluralOrSelect;\n    }\n    return;\n  }\n  if (getEndOperator(operator) != null) {\n    this.angularOperatorStack.unshift(operator);\n    return;\n  }\n  var beginOperator = getBeginOperator(operator);\n  if (beginOperator == null) {\n    this.errorInParseLogic();\n  }\n  if (this.angularOperatorStack.length > 0) {\n    if (beginOperator == this.angularOperatorStack[0]) {\n      this.angularOperatorStack.shift();\n      return;\n    }\n    position = indexToLineAndColumn(this.text, this.index);\n    throw $interpolateMinErr('badexpr',\n        'Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”',\n        operator, position.line, position.column, getEndOperator(this.angularOperatorStack[0]), this.text);\n  }\n  // We are trying to pop off the operator stack but there really isn't anything to pop off.\n  this.index = match.index;\n  this.expressionFn = this.$parse(this.text.substring(this.expressionStartIndex, this.index));\n  // Needed to pretend to be $interpolate for tests copied from interpolateSpec.js\n  this.expressionFn['exp'] = this.text.substring(this.expressionStartIndex, this.index);\n  this.expressionFn['expressions'] = this.expressionFn['expressions'];\n  this.rule = null;\n};\n\n// NOTE: ADVANCED_OPTIMIZATIONS mode.\n//\n// This file is compiled with Closure compiler's ADVANCED_OPTIMIZATIONS flag! Be wary of using\n// constructs incompatible with that mode.\n\n/* global $interpolateMinErr: false */\n/* global MessageFormatParser: false */\n/* global stringify: false */\n\n/**\n * @ngdoc service\n * @name $$messageFormat\n *\n * @description\n * Angular internal service to recognize MessageFormat extensions in interpolation expressions.\n * For more information, see:\n * https://docs.google.com/a/google.com/document/d/1pbtW2yvtmFBikfRrJd8VAsabiFkKezmYZ_PbgdjQOVU/edit\n *\n * ## Example\n *\n * <example name=\"ngMessageFormat-example\" module=\"msgFmtExample\" deps=\"angular-message-format.min.js\">\n * <file name=\"index.html\">\n *   <div ng-controller=\"AppController\">\n *     <button ng-click=\"decreaseRecipients()\" id=\"decreaseRecipients\">decreaseRecipients</button><br>\n *     <span>{{recipients.length, plural, offset:1\n *             =0    {{{sender.name}} gave no gifts (\\#=#)}\n *             =1    {{{sender.name}} gave one gift to {{recipients[0].name}} (\\#=#)}\n *             one   {{{sender.name}} gave {{recipients[0].name}} and one other person a gift (\\#=#)}\n *             other {{{sender.name}} gave {{recipients[0].name}} and # other people a gift (\\#=#)}\n *           }}</span>\n *   </div>\n * </file>\n *\n * <file name=\"script.js\">\n *   function Person(name, gender) {\n *     this.name = name;\n *     this.gender = gender;\n *   }\n *\n *   var alice   = new Person(\"Alice\", \"female\"),\n *       bob     = new Person(\"Bob\", \"male\"),\n *       charlie = new Person(\"Charlie\", \"male\"),\n *       harry   = new Person(\"Harry Potter\", \"male\");\n *\n *   angular.module('msgFmtExample', ['ngMessageFormat'])\n *     .controller('AppController', ['$scope', function($scope) {\n *         $scope.recipients = [alice, bob, charlie];\n *         $scope.sender = harry;\n *         $scope.decreaseRecipients = function() {\n *           --$scope.recipients.length;\n *         };\n *       }]);\n * </file>\n *\n * <file name=\"protractor.js\" type=\"protractor\">\n *   describe('MessageFormat plural', function() {\n *     it('should pluralize initial values', function() {\n *       var messageElem = element(by.binding('recipients.length')), decreaseRecipientsBtn = element(by.id('decreaseRecipients'));\n *       expect(messageElem.getText()).toEqual('Harry Potter gave Alice and 2 other people a gift (#=2)');\n *       decreaseRecipientsBtn.click();\n *       expect(messageElem.getText()).toEqual('Harry Potter gave Alice and one other person a gift (#=1)');\n *       decreaseRecipientsBtn.click();\n *       expect(messageElem.getText()).toEqual('Harry Potter gave one gift to Alice (#=0)');\n *       decreaseRecipientsBtn.click();\n *       expect(messageElem.getText()).toEqual('Harry Potter gave no gifts (#=-1)');\n *     });\n *   });\n * </file>\n * </example>\n */\nvar $$MessageFormatFactory = ['$parse', '$locale', '$sce', '$exceptionHandler', function $$messageFormat(\n                   $parse,   $locale,   $sce,   $exceptionHandler) {\n\n  function getStringifier(trustedContext, allOrNothing, text) {\n    return function stringifier(value) {\n      try {\n        value = trustedContext ? $sce['getTrusted'](trustedContext, value) : $sce['valueOf'](value);\n        return allOrNothing && (value === void 0) ? value : stringify(value);\n      } catch (err) {\n        $exceptionHandler($interpolateMinErr['interr'](text, err));\n      }\n    };\n  }\n\n  function interpolate(text, mustHaveExpression, trustedContext, allOrNothing) {\n    var stringifier = getStringifier(trustedContext, allOrNothing, text);\n    var parser = new MessageFormatParser(text, 0, $parse, $locale['pluralCat'], stringifier,\n                                         mustHaveExpression, trustedContext, allOrNothing);\n    parser.run(parser.ruleInterpolate);\n    return parser.parsedFn;\n  }\n\n  return {\n    'interpolate': interpolate\n  };\n}];\n\nvar $$interpolateDecorator = ['$$messageFormat', '$delegate', function $$interpolateDecorator($$messageFormat, $interpolate) {\n  if ($interpolate['startSymbol']() != \"{{\" || $interpolate['endSymbol']() != \"}}\") {\n    throw $interpolateMinErr('nochgmustache', 'angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.');\n  }\n  var interpolate = $$messageFormat['interpolate'];\n  interpolate['startSymbol'] = $interpolate['startSymbol'];\n  interpolate['endSymbol'] = $interpolate['endSymbol'];\n  return interpolate;\n}];\n\n\n/**\n * @ngdoc module\n * @name ngMessageFormat\n * @packageName angular-message-format\n * @description\n */\nvar module = window['angular']['module']('ngMessageFormat', ['ng']);\nmodule['factory']('$$messageFormat', $$MessageFormatFactory);\nmodule['config'](['$provide', function($provide) {\n  $provide['decorator']('$interpolate', $$interpolateDecorator);\n}]);\n\n\n})(window, window.angular);\n"]}