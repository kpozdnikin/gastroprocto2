{"version":3,"sources":["jquery.emojiarea-orig.js"],"names":[],"mappings":"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","file":"jquery.emojiarea-orig-compiled.js","sourcesContent":["/**\n * emojiarea - A rich textarea control that supports emojis, WYSIWYG-style.\n * Copyright (c) 2012 DIY Co\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@diy.org>\n */\n\n(function($, window, document) {\n\n  var ELEMENT_NODE = 1;\n  var TEXT_NODE = 3;\n  var TAGS_BLOCK = ['p', 'div', 'pre', 'form'];\n  var KEY_ESC = 27;\n  var KEY_TAB = 9;\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  $.emojiarea = {\n    path: '',\n    icons: {},\n    defaults: {\n      button: null,\n      buttonLabel: 'Emojis',\n      buttonPosition: 'after'\n    }\n  };\n\n  $.fn.emojiarea = function(options) {\n    options = $.extend({}, $.emojiarea.defaults, options);\n    return this.each(function() {\n      var $textarea = $(this);\n      if ('contentEditable' in document.body && options.wysiwyg !== false) {\n        new EmojiArea_WYSIWYG($textarea, options);\n      } else {\n        new EmojiArea_Plain($textarea, options);\n      }\n    });\n  };\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  var util = {};\n\n  util.restoreSelection = (function() {\n    if (window.getSelection) {\n      return function(savedSelection) {\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        for (var i = 0, len = savedSelection.length; i < len; ++i) {\n          sel.addRange(savedSelection[i]);\n        }\n      };\n    } else if (document.selection && document.selection.createRange) {\n      return function(savedSelection) {\n        if (savedSelection) {\n          savedSelection.select();\n        }\n      };\n    }\n  })();\n\n  util.saveSelection = (function() {\n    if (window.getSelection) {\n      return function() {\n        var sel = window.getSelection(), ranges = [];\n        if (sel.rangeCount) {\n          for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n            ranges.push(sel.getRangeAt(i));\n          }\n        }\n        return ranges;\n      };\n    } else if (document.selection && document.selection.createRange) {\n      return function() {\n        var sel = document.selection;\n        return (sel.type.toLowerCase() !== 'none') ? sel.createRange() : null;\n      };\n    }\n  })();\n\n  util.replaceSelection = (function() {\n    if (window.getSelection) {\n      return function(content) {\n        var range, sel = window.getSelection();\n        var node = typeof content === 'string' ? document.createTextNode(content) : content;\n        if (sel.getRangeAt && sel.rangeCount) {\n          range = sel.getRangeAt(0);\n          range.deleteContents();\n          range.insertNode(document.createTextNode(' '));\n          range.insertNode(node);\n          range.setStart(node, 0);\n\n          window.setTimeout(function() {\n            range = document.createRange();\n            range.setStartAfter(node);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n          }, 0);\n        }\n      }\n    } else if (document.selection && document.selection.createRange) {\n      return function(content) {\n        var range = document.selection.createRange();\n        if (typeof content === 'string') {\n          range.text = content;\n        } else {\n          range.pasteHTML(content.outerHTML);\n        }\n      }\n    }\n  })();\n\n  util.insertAtCursor = function(text, el) {\n    text = ' ' + text;\n    var val = el.value, endIndex, startIndex, range;\n    if (typeof el.selectionStart != 'undefined' && typeof el.selectionEnd != 'undefined') {\n      startIndex = el.selectionStart;\n      endIndex = el.selectionEnd;\n      el.value = val.substring(0, startIndex) + text + val.substring(el.selectionEnd);\n      el.selectionStart = el.selectionEnd = startIndex + text.length;\n    } else if (typeof document.selection != 'undefined' && typeof document.selection.createRange != 'undefined') {\n      el.focus();\n      range = document.selection.createRange();\n      range.text = text;\n      range.select();\n    }\n  };\n\n  util.extend = function(a, b) {\n    if (typeof a === 'undefined' || !a) { a = {}; }\n    if (typeof b === 'object') {\n      for (var key in b) {\n        if (b.hasOwnProperty(key)) {\n          a[key] = b[key];\n        }\n      }\n    }\n    return a;\n  };\n\n  util.escapeRegex = function(str) {\n    return (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n  };\n\n  util.htmlEntities = function(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n  };\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  var EmojiArea = function() {};\n\n  EmojiArea.prototype.setup = function() {\n    var self = this;\n\n    this.$editor.on('focus', function() { self.hasFocus = true; });\n    this.$editor.on('blur', function() { self.hasFocus = false; });\n\n    this.setupButton();\n  };\n\n  EmojiArea.prototype.setupButton = function() {\n    var self = this;\n    var $button;\n\n    if (this.options.button) {\n      $button = $(this.options.button);\n    } else if (this.options.button !== false) {\n      $button = $('<a href=\"javascript:void(0)\">');\n      $button.html(this.options.buttonLabel);\n      $button.addClass('emoji-button');\n      $button.attr({title: this.options.buttonLabel});\n      this.$editor[this.options.buttonPosition]($button);\n    } else {\n      $button = $('');\n    }\n\n    $button.on('click', function(e) {\n      EmojiMenu.show(self);\n      e.stopPropagation();\n    });\n\n    this.$button = $button;\n  };\n\n  EmojiArea.createIcon = function(emoji) {\n    var filename = $.emojiarea.icons[emoji];\n    var path = $.emojiarea.path || '';\n    if (path.length && path.charAt(path.length - 1) !== '/') {\n      path += '/';\n    }\n    return '<img src=\"' + path + filename + '\" alt=\"' + util.htmlEntities(emoji) + '\">';\n  };\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  /**\n   * Editor (plain-text)\n   *\n   * @constructor\n   * @param {object} $textarea\n   * @param {object} options\n   */\n\n  var EmojiArea_Plain = function($textarea, options) {\n    this.options = options;\n    this.$textarea = $textarea;\n    this.$editor = $textarea;\n    this.setup();\n  };\n\n  EmojiArea_Plain.prototype.insert = function(emoji) {\n    if (!$.emojiarea.icons.hasOwnProperty(emoji)) return;\n    util.insertAtCursor(emoji, this.$textarea[0]);\n    this.$textarea.trigger('change');\n  };\n\n  EmojiArea_Plain.prototype.val = function() {\n    return this.$textarea.val();\n  };\n\n  util.extend(EmojiArea_Plain.prototype, EmojiArea.prototype);\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  /**\n   * Editor (rich)\n   *\n   * @constructor\n   * @param {object} $textarea\n   * @param {object} options\n   */\n\n  var EmojiArea_WYSIWYG = function($textarea, options) {\n    var self = this;\n\n    this.options = options;\n    this.$textarea = $textarea;\n    this.$editor = $('<div>').addClass('emoji-wysiwyg-editor');\n    this.$editor.text($textarea.val());\n    this.$editor.attr({contenteditable: 'true'});\n    this.$editor.on('blur keyup paste', function() { return self.onChange.apply(self, arguments); });\n    this.$editor.on('mousedown focus', function() { document.execCommand('enableObjectResizing', false, false); });\n    this.$editor.on('blur', function() { document.execCommand('enableObjectResizing', true, true); });\n\n    var html = this.$editor.text();\n    var emojis = $.emojiarea.icons;\n    for (var key in emojis) {\n      if (emojis.hasOwnProperty(key)) {\n        html = html.replace(new RegExp(util.escapeRegex(key), 'g'), EmojiArea.createIcon(key));\n      }\n    }\n    this.$editor.html(html);\n\n    $textarea.hide().after(this.$editor);\n\n    this.setup();\n\n    this.$button.on('mousedown', function() {\n      if (self.hasFocus) {\n        self.selection = util.saveSelection();\n      }\n    });\n  };\n\n  EmojiArea_WYSIWYG.prototype.onChange = function() {\n    this.$textarea.val(this.val()).trigger('change');\n  };\n\n  EmojiArea_WYSIWYG.prototype.insert = function(emoji) {\n    var content;\n    var $img = $(EmojiArea.createIcon(emoji));\n    if ($img[0].attachEvent) {\n      $img[0].attachEvent('onresizestart', function(e) { e.returnValue = false; }, false);\n    }\n\n    this.$editor.trigger('focus');\n    if (this.selection) {\n      util.restoreSelection(this.selection);\n    }\n    try { util.replaceSelection($img[0]); } catch (e) {}\n    this.onChange();\n  };\n\n  EmojiArea_WYSIWYG.prototype.val = function() {\n    var lines = [];\n    var line  = [];\n\n    var flush = function() {\n      lines.push(line.join(''));\n      line = [];\n    };\n\n    var sanitizeNode = function(node) {\n      if (node.nodeType === TEXT_NODE) {\n        line.push(node.nodeValue);\n      } else if (node.nodeType === ELEMENT_NODE) {\n        var tagName = node.tagName.toLowerCase();\n        var isBlock = TAGS_BLOCK.indexOf(tagName) !== -1;\n\n        if (isBlock && line.length) flush();\n\n        if (tagName === 'img') {\n          var alt = node.getAttribute('alt') || '';\n          if (alt) line.push(alt);\n          return;\n        } else if (tagName === 'br') {\n          flush();\n        }\n\n        var children = node.childNodes;\n        for (var i = 0; i < children.length; i++) {\n          sanitizeNode(children[i]);\n        }\n\n        if (isBlock && line.length) flush();\n      }\n    };\n\n    var children = this.$editor[0].childNodes;\n    for (var i = 0; i < children.length; i++) {\n      sanitizeNode(children[i]);\n    }\n\n    if (line.length) flush();\n\n    return lines.join('\\n');\n  };\n\n  util.extend(EmojiArea_WYSIWYG.prototype, EmojiArea.prototype);\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  /**\n   * Emoji Dropdown Menu\n   *\n   * @constructor\n   * @param {object} emojiarea\n   */\n  var EmojiMenu = function() {\n    var self = this;\n    var $body = $(document.body);\n    var $window = $(window);\n\n    this.visible = false;\n    this.emojiarea = null;\n    this.$menu = $('<div>');\n    this.$menu.addClass('emoji-menu');\n    this.$menu.hide();\n    this.$items = $('<div>').appendTo(this.$menu);\n\n    $body.append(this.$menu);\n\n    $body.on('keydown', function(e) {\n      if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) {\n        self.hide();\n      }\n    });\n\n    $body.on('mouseup', function() {\n      self.hide();\n    });\n\n    $window.on('resize', function() {\n      if (self.visible) self.reposition();\n    });\n\n    this.$menu.on('mouseup', 'a', function(e) {\n      e.stopPropagation();\n      return false;\n    });\n\n    this.$menu.on('click', 'a', function(e) {\n      var emoji = $('.label', $(this)).text();\n      window.setTimeout(function() {\n        self.onItemSelected.apply(self, [emoji]);\n      }, 0);\n      e.stopPropagation();\n      return false;\n    });\n\n    this.load();\n  };\n\n  EmojiMenu.prototype.onItemSelected = function(emoji) {\n    this.emojiarea.insert(emoji);\n    this.hide();\n  };\n\n  EmojiMenu.prototype.load = function() {\n    var html = [];\n    var options = $.emojiarea.icons;\n    var path = $.emojiarea.path;\n    if (path.length && path.charAt(path.length - 1) !== '/') {\n      path += '/';\n    }\n\n    for (var key in options) {\n      if (options.hasOwnProperty(key)) {\n        var filename = options[key];\n        html.push('<a href=\"javascript:void(0)\" title=\"' + util.htmlEntities(key) + '\">' + EmojiArea.createIcon(key) + '<span class=\"label\">' + util.htmlEntities(key) + '</span></a>');\n      }\n    }\n\n    this.$items.html(html.join(''));\n  };\n\n  EmojiMenu.prototype.reposition = function() {\n    var $button = this.emojiarea.$button;\n    var offset = $button.offset();\n    offset.top += $button.outerHeight();\n    offset.left += Math.round($button.outerWidth() / 2);\n\n    this.$menu.css({\n      top: offset.top,\n      left: offset.left\n    });\n  };\n\n  EmojiMenu.prototype.hide = function(callback) {\n    if (this.emojiarea) {\n      this.emojiarea.menu = null;\n      this.emojiarea.$button.removeClass('on');\n      this.emojiarea = null;\n    }\n    this.visible = false;\n    this.$menu.hide();\n  };\n\n  EmojiMenu.prototype.show = function(emojiarea) {\n    if (this.emojiarea && this.emojiarea === emojiarea) return;\n    this.emojiarea = emojiarea;\n    this.emojiarea.menu = this;\n\n    this.reposition();\n    this.$menu.show();\n    this.visible = true;\n  };\n\n  EmojiMenu.show = (function() {\n    var menu = null;\n    return function(emojiarea) {\n      menu = menu || new EmojiMenu();\n      menu.show(emojiarea);\n    };\n  })();\n\n})(jQuery, window, document);"]}