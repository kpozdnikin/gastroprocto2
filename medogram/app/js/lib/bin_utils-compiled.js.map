{"version":3,"sources":["bin_utils.js"],"names":[],"mappings":"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","file":"bin_utils-compiled.js","sourcesContent":["/*!\n * Webogram v0.5.5 - messaging web application for MTProto\n * https://github.com/zhukov/webogram\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\n * https://github.com/zhukov/webogram/blob/master/LICENSE\n */\n\nfunction bigint (num) {\n  return new BigInteger(num.toString(16), 16)\n}\n\nfunction bigStringInt (strNum) {\n  return new BigInteger(strNum, 10)\n}\n\nfunction dHexDump (bytes) {\n  var arr = []\n  for (var i = 0; i < bytes.length; i++) {\n    if (i && !(i % 2)) {\n      if (!(i % 16)) {\n        arr.push('\\n')\n      } else if (!(i % 4)) {\n        arr.push('  ')\n      } else {\n        arr.push(' ')\n      }\n    }\n    arr.push((bytes[i] < 16 ? '0' : '') + bytes[i].toString(16))\n  }\n\n  console.log(arr.join(''))\n}\n\nfunction bytesToHex (bytes) {\n  bytes = bytes || []\n  var arr = []\n  for (var i = 0; i < bytes.length; i++) {\n    arr.push((bytes[i] < 16 ? '0' : '') + (bytes[i] || 0).toString(16))\n  }\n  return arr.join('')\n}\n\nfunction bytesFromHex (hexString) {\n  var len = hexString.length,\n    i\n  var start = 0\n  var bytes = []\n\n  if (hexString.length % 2) {\n    bytes.push(parseInt(hexString.charAt(0), 16))\n    start++\n  }\n\n  for (i = start; i < len; i += 2) {\n    bytes.push(parseInt(hexString.substr(i, 2), 16))\n  }\n\n  return bytes\n}\n\nfunction bytesToBase64 (bytes) {\n  var mod3\n  var result = ''\n\n  for (var nLen = bytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n    mod3 = nIdx % 3\n    nUint24 |= bytes[nIdx] << (16 >>> mod3 & 24)\n    if (mod3 === 2 || nLen - nIdx === 1) {\n      result += String.fromCharCode(\n        uint6ToBase64(nUint24 >>> 18 & 63),\n        uint6ToBase64(nUint24 >>> 12 & 63),\n        uint6ToBase64(nUint24 >>> 6 & 63),\n        uint6ToBase64(nUint24 & 63)\n      )\n      nUint24 = 0\n    }\n  }\n\n  return result.replace(/A(?=A$|$)/g, '=')\n}\n\nfunction uint6ToBase64 (nUint6) {\n  return nUint6 < 26\n    ? nUint6 + 65\n    : nUint6 < 52\n      ? nUint6 + 71\n      : nUint6 < 62\n        ? nUint6 - 4\n        : nUint6 === 62\n          ? 43\n          : nUint6 === 63\n            ? 47\n            : 65\n}\n\nfunction base64ToBlob (base64str, mimeType) {\n  var sliceSize = 1024\n  var byteCharacters = atob(base64str)\n  var bytesLength = byteCharacters.length\n  var slicesCount = Math.ceil(bytesLength / sliceSize)\n  var byteArrays = new Array(slicesCount)\n\n  for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n    var begin = sliceIndex * sliceSize\n    var end = Math.min(begin + sliceSize, bytesLength)\n\n    var bytes = new Array(end - begin)\n    for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n      bytes[i] = byteCharacters[offset].charCodeAt(0)\n    }\n    byteArrays[sliceIndex] = new Uint8Array(bytes)\n  }\n\n  return blobConstruct(byteArrays, mimeType)\n}\n\nfunction dataUrlToBlob (url) {\n  // var name = 'b64blob ' + url.length\n  // console.time(name)\n  var urlParts = url.split(',')\n  var base64str = urlParts[1]\n  var mimeType = urlParts[0].split(':')[1].split(';')[0]\n  var blob = base64ToBlob(base64str, mimeType)\n  // console.timeEnd(name)\n  return blob\n}\n\nfunction blobConstruct (blobParts, mimeType) {\n  var blob\n  try {\n    blob = new Blob(blobParts, {type: mimeType})\n  } catch (e) {\n    var bb = new BlobBuilder\n    angular.forEach(blobParts, function (blobPart) {\n      bb.append(blobPart)\n    })\n    blob = bb.getBlob(mimeType)\n  }\n  return blob\n}\n\nfunction bytesCmp (bytes1, bytes2) {\n  var len = bytes1.length\n  if (len != bytes2.length) {\n    return false\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (bytes1[i] != bytes2[i]) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction bytesXor (bytes1, bytes2) {\n  var len = bytes1.length\n  var bytes = []\n\n  for (var i = 0; i < len; ++i) {\n    bytes[i] = bytes1[i] ^ bytes2[i]\n  }\n\n  return bytes\n}\n\nfunction bytesToWords (bytes) {\n  if (bytes instanceof ArrayBuffer) {\n    bytes = new Uint8Array(bytes)\n  }\n  var len = bytes.length\n  var words = []\n  var i\n  for (i = 0; i < len; i++) {\n    words[i >>> 2] |= bytes[i] << (24 - (i % 4) * 8)\n  }\n\n  return new CryptoJS.lib.WordArray.init(words, len)\n}\n\nfunction bytesFromWords (wordArray) {\n  var words = wordArray.words\n  var sigBytes = wordArray.sigBytes\n  var bytes = []\n\n  for (var i = 0; i < sigBytes; i++) {\n    bytes.push((words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff)\n  }\n\n  return bytes\n}\n\nfunction bytesFromBigInt (bigInt, len) {\n  var bytes = bigInt.toByteArray()\n\n  if (len && bytes.length < len) {\n    var padding = []\n    for (var i = 0, needPadding = len - bytes.length; i < needPadding; i++) {\n      padding[i] = 0\n    }\n    if (bytes instanceof ArrayBuffer) {\n      bytes = bufferConcat(padding, bytes)\n    } else {\n      bytes = padding.concat(bytes)\n    }\n  }else {\n    while (!bytes[0] && (!len || bytes.length > len)) {\n      bytes = bytes.slice(1)\n    }\n  }\n\n  return bytes\n}\n\nfunction bytesFromLeemonBigInt (bigInt, len) {\n  var str = bigInt2str(bigInt, 16)\n  return bytesFromHex(str)\n}\n\nfunction bytesToArrayBuffer (b) {\n  return (new Uint8Array(b)).buffer\n}\n\nfunction convertToArrayBuffer (bytes) {\n  // Be careful with converting subarrays!!\n  if (bytes instanceof ArrayBuffer) {\n    return bytes\n  }\n  if (bytes.buffer !== undefined &&\n    bytes.buffer.byteLength == bytes.length * bytes.BYTES_PER_ELEMENT) {\n    return bytes.buffer\n  }\n  return bytesToArrayBuffer(bytes)\n}\n\nfunction convertToUint8Array (bytes) {\n  if (bytes.buffer !== undefined) {\n    return bytes\n  }\n  return new Uint8Array(bytes)\n}\n\nfunction convertToByteArray (bytes) {\n  if (Array.isArray(bytes)) {\n    return bytes\n  }\n  bytes = convertToUint8Array(bytes)\n  var newBytes = []\n  for (var i = 0, len = bytes.length; i < len; i++) {\n    newBytes.push(bytes[i])\n  }\n  return newBytes\n}\n\nfunction bytesFromArrayBuffer (buffer) {\n  var len = buffer.byteLength\n  var byteView = new Uint8Array(buffer)\n  var bytes = []\n\n  for (var i = 0; i < len; ++i) {\n    bytes[i] = byteView[i]\n  }\n\n  return bytes\n}\n\nfunction bufferConcat (buffer1, buffer2) {\n  var l1 = buffer1.byteLength || buffer1.length\n  var l2 = buffer2.byteLength || buffer2.length\n  var tmp = new Uint8Array(l1 + l2)\n  tmp.set(buffer1 instanceof ArrayBuffer ? new Uint8Array(buffer1) : buffer1, 0)\n  tmp.set(buffer2 instanceof ArrayBuffer ? new Uint8Array(buffer2) : buffer2, l1)\n\n  return tmp.buffer\n}\n\nfunction longToInts (sLong) {\n  var divRem = bigStringInt(sLong).divideAndRemainder(bigint(0x100000000))\n\n  return [divRem[0].intValue(), divRem[1].intValue()]\n}\n\nfunction longToBytes (sLong) {\n  return bytesFromWords({words: longToInts(sLong), sigBytes: 8}).reverse()\n}\n\nfunction longFromInts (high, low) {\n  return bigint(high).shiftLeft(32).add(bigint(low)).toString(10)\n}\n\nfunction intToUint (val) {\n  val = parseInt(val)\n  if (val < 0) {\n    val = val + 4294967296\n  }\n  return val\n}\n\nfunction uintToInt (val) {\n  if (val > 2147483647) {\n    val = val - 4294967296\n  }\n  return val\n}\n\nfunction sha1HashSync (bytes) {\n  this.rushaInstance = this.rushaInstance || new Rusha(1024 * 1024)\n\n  // console.log(dT(), 'SHA-1 hash start', bytes.byteLength || bytes.length)\n  var hashBytes = rushaInstance.rawDigest(bytes).buffer\n  // console.log(dT(), 'SHA-1 hash finish')\n\n  return hashBytes\n}\n\nfunction sha1BytesSync (bytes) {\n  return bytesFromArrayBuffer(sha1HashSync(bytes))\n}\n\nfunction sha256HashSync (bytes) {\n  // console.log(dT(), 'SHA-2 hash start', bytes.byteLength || bytes.length)\n  var hashWords = CryptoJS.SHA256(bytesToWords(bytes))\n  // console.log(dT(), 'SHA-2 hash finish')\n\n  var hashBytes = bytesFromWords(hashWords)\n\n  return hashBytes\n}\n\nfunction rsaEncrypt (publicKey, bytes) {\n  bytes = addPadding(bytes, 255)\n\n  // console.log('RSA encrypt start')\n  var N = new BigInteger(publicKey.modulus, 16)\n  var E = new BigInteger(publicKey.exponent, 16)\n  var X = new BigInteger(bytes)\n  var encryptedBigInt = X.modPowInt(E, N),\n    encryptedBytes = bytesFromBigInt(encryptedBigInt, 256)\n    // console.log('RSA encrypt finish')\n\n  return encryptedBytes\n}\n\nfunction addPadding (bytes, blockSize, zeroes) {\n  blockSize = blockSize || 16\n  var len = bytes.byteLength || bytes.length\n  var needPadding = blockSize - (len % blockSize)\n  if (needPadding > 0 && needPadding < blockSize) {\n    var padding = new Array(needPadding)\n    if (zeroes) {\n      for (var i = 0; i < needPadding; i++) {\n        padding[i] = 0\n      }\n    } else {\n      (new SecureRandom()).nextBytes(padding)\n    }\n\n    if (bytes instanceof ArrayBuffer) {\n      bytes = bufferConcat(bytes, padding)\n    } else {\n      bytes = bytes.concat(padding)\n    }\n  }\n\n  return bytes\n}\n\nfunction aesEncryptSync (bytes, keyBytes, ivBytes) {\n  var len = bytes.byteLength || bytes.length\n\n  // console.log(dT(), 'AES encrypt start', len/*, bytesToHex(keyBytes), bytesToHex(ivBytes)*/)\n  bytes = addPadding(bytes)\n\n  var encryptedWords = CryptoJS.AES.encrypt(bytesToWords(bytes), bytesToWords(keyBytes), {\n    iv: bytesToWords(ivBytes),\n    padding: CryptoJS.pad.NoPadding,\n    mode: CryptoJS.mode.IGE\n  }).ciphertext\n\n  var encryptedBytes = bytesFromWords(encryptedWords)\n  // console.log(dT(), 'AES encrypt finish')\n\n  return encryptedBytes\n}\n\nfunction aesDecryptSync (encryptedBytes, keyBytes, ivBytes) {\n\n  // console.log(dT(), 'AES decrypt start', encryptedBytes.length)\n  var decryptedWords = CryptoJS.AES.decrypt({ciphertext: bytesToWords(encryptedBytes)}, bytesToWords(keyBytes), {\n    iv: bytesToWords(ivBytes),\n    padding: CryptoJS.pad.NoPadding,\n    mode: CryptoJS.mode.IGE\n  })\n\n  var bytes = bytesFromWords(decryptedWords)\n  // console.log(dT(), 'AES decrypt finish')\n\n  return bytes\n}\n\nfunction gzipUncompress (bytes) {\n  // console.log('Gzip uncompress start')\n  var result = (new Zlib.Gunzip(bytes)).decompress()\n  // console.log('Gzip uncompress finish')\n  return result\n}\n\nfunction nextRandomInt (maxValue) {\n  return Math.floor(Math.random() * maxValue)\n}\n\nfunction pqPrimeFactorization (pqBytes) {\n  var what = new BigInteger(pqBytes)\n  var result = false\n\n  // console.log(dT(), 'PQ start', pqBytes, what.toString(16), what.bitLength())\n\n  try {\n    result = pqPrimeLeemon(str2bigInt(what.toString(16), 16, Math.ceil(64 / bpe) + 1))\n  } catch (e) {\n    console.error('Pq leemon Exception', e)\n  }\n\n  if (result === false && what.bitLength() <= 64) {\n    // console.time('PQ long')\n    try {\n      result = pqPrimeLong(goog.math.Long.fromString(what.toString(16), 16))\n    } catch (e) {\n      console.error('Pq long Exception', e)\n    }\n  // console.timeEnd('PQ long')\n  }\n  // console.log(result)\n\n  if (result === false) {\n    // console.time('pq BigInt')\n    result = pqPrimeBigInteger(what)\n  // console.timeEnd('pq BigInt')\n  }\n\n  // console.log(dT(), 'PQ finish')\n\n  return result\n}\n\nfunction pqPrimeBigInteger (what) {\n  var it = 0,\n    g\n  for (var i = 0; i < 3; i++) {\n    var q = (nextRandomInt(128) & 15) + 17\n    var x = bigint(nextRandomInt(1000000000) + 1)\n    var y = x.clone()\n    var lim = 1 << (i + 18)\n\n    for (var j = 1; j < lim; j++) {\n      ++it\n      var a = x.clone()\n      var b = x.clone()\n      var c = bigint(q)\n\n      while (!b.equals(BigInteger.ZERO)) {\n        if (!b.and(BigInteger.ONE).equals(BigInteger.ZERO)) {\n          c = c.add(a)\n          if (c.compareTo(what) > 0) {\n            c = c.subtract(what)\n          }\n        }\n        a = a.add(a)\n        if (a.compareTo(what) > 0) {\n          a = a.subtract(what)\n        }\n        b = b.shiftRight(1)\n      }\n\n      x = c.clone()\n      var z = x.compareTo(y) < 0 ? y.subtract(x) : x.subtract(y)\n      g = z.gcd(what)\n      if (!g.equals(BigInteger.ONE)) {\n        break\n      }\n      if ((j & (j - 1)) == 0) {\n        y = x.clone()\n      }\n    }\n    if (g.compareTo(BigInteger.ONE) > 0) {\n      break\n    }\n  }\n\n  var f = what.divide(g), P, Q\n\n  if (g.compareTo(f) > 0) {\n    P = f\n    Q = g\n  } else {\n    P = g\n    Q = f\n  }\n\n  return [bytesFromBigInt(P), bytesFromBigInt(Q), it]\n}\n\nfunction gcdLong (a, b) {\n  while (a.notEquals(goog.math.Long.ZERO) && b.notEquals(goog.math.Long.ZERO)) {\n    while (b.and(goog.math.Long.ONE).equals(goog.math.Long.ZERO)) {\n      b = b.shiftRight(1)\n    }\n    while (a.and(goog.math.Long.ONE).equals(goog.math.Long.ZERO)) {\n      a = a.shiftRight(1)\n    }\n    if (a.compare(b) > 0) {\n      a = a.subtract(b)\n    } else {\n      b = b.subtract(a)\n    }\n  }\n  return b.equals(goog.math.Long.ZERO) ? a : b\n}\n\nfunction pqPrimeLong (what) {\n  var it = 0,\n    g\n  for (var i = 0; i < 3; i++) {\n    var q = goog.math.Long.fromInt((nextRandomInt(128) & 15) + 17)\n    var x = goog.math.Long.fromInt(nextRandomInt(1000000000) + 1)\n    var y = x\n    var lim = 1 << (i + 18)\n\n    for (var j = 1; j < lim; j++) {\n      ++it\n      var a = x\n      var b = x\n      var c = q\n\n      while (b.notEquals(goog.math.Long.ZERO)) {\n        if (b.and(goog.math.Long.ONE).notEquals(goog.math.Long.ZERO)) {\n          c = c.add(a)\n          if (c.compare(what) > 0) {\n            c = c.subtract(what)\n          }\n        }\n        a = a.add(a)\n        if (a.compare(what) > 0) {\n          a = a.subtract(what)\n        }\n        b = b.shiftRight(1)\n      }\n\n      x = c\n      var z = x.compare(y) < 0 ? y.subtract(x) : x.subtract(y)\n      g = gcdLong(z, what)\n      if (g.notEquals(goog.math.Long.ONE)) {\n        break\n      }\n      if ((j & (j - 1)) == 0) {\n        y = x\n      }\n    }\n    if (g.compare(goog.math.Long.ONE) > 0) {\n      break\n    }\n  }\n\n  var f = what.div(g), P, Q\n\n  if (g.compare(f) > 0) {\n    P = f\n    Q = g\n  } else {\n    P = g\n    Q = f\n  }\n\n  return [bytesFromHex(P.toString(16)), bytesFromHex(Q.toString(16)), it]\n}\n\nfunction pqPrimeLeemon (what) {\n  var minBits = 64\n  var minLen = Math.ceil(minBits / bpe) + 1\n  var it = 0\n  var i, q\n  var j, lim\n  var g, P\n  var Q\n  var a = new Array(minLen)\n  var b = new Array(minLen)\n  var c = new Array(minLen)\n  var g = new Array(minLen)\n  var z = new Array(minLen)\n  var x = new Array(minLen)\n  var y = new Array(minLen)\n\n  for (i = 0; i < 3; i++) {\n    q = (nextRandomInt(128) & 15) + 17\n    copyInt_(x, nextRandomInt(1000000000) + 1)\n    copy_(y, x)\n    lim = 1 << (i + 18)\n\n    for (j = 1; j < lim; j++) {\n      ++it\n      copy_(a, x)\n      copy_(b, x)\n      copyInt_(c, q)\n\n      while (!isZero(b)) {\n        if (b[0] & 1) {\n          add_(c, a)\n          if (greater(c, what)) {\n            sub_(c, what)\n          }\n        }\n        add_(a, a)\n        if (greater(a, what)) {\n          sub_(a, what)\n        }\n        rightShift_(b, 1)\n      }\n\n      copy_(x, c)\n      if (greater(x, y)) {\n        copy_(z, x)\n        sub_(z, y)\n      } else {\n        copy_(z, y)\n        sub_(z, x)\n      }\n      eGCD_(z, what, g, a, b)\n      if (!equalsInt(g, 1)) {\n        break\n      }\n      if ((j & (j - 1)) == 0) {\n        copy_(y, x)\n      }\n    }\n    if (greater(g, one)) {\n      break\n    }\n  }\n\n  divide_(what, g, x, y)\n\n  if (greater(g, x)) {\n    P = x\n    Q = g\n  } else {\n    P = g\n    Q = x\n  }\n\n  // console.log(dT(), 'done', bigInt2str(what, 10), bigInt2str(P, 10), bigInt2str(Q, 10))\n\n  return [bytesFromLeemonBigInt(P), bytesFromLeemonBigInt(Q), it]\n}\n\nfunction bytesModPow (x, y, m) {\n  try {\n    var xBigInt = str2bigInt(bytesToHex(x), 16)\n    var yBigInt = str2bigInt(bytesToHex(y), 16)\n    var mBigInt = str2bigInt(bytesToHex(m), 16)\n    var resBigInt = powMod(xBigInt, yBigInt, mBigInt)\n\n    return bytesFromHex(bigInt2str(resBigInt, 16))\n  } catch (e) {\n    console.error('mod pow error', e)\n  }\n\n  return bytesFromBigInt(new BigInteger(x).modPow(new BigInteger(y), new BigInteger(m)), 256)\n}\n"]}