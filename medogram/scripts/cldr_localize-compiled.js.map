{"version":3,"sources":["cldr_localize.js"],"names":[],"mappings":";;AAAA;;;;;;;;AAQA,IAAI;AACH,KAAI,KAAK,QAAQ,IAAR,CAAT;AAAA,KAAwB,OAAO,QAAQ,MAAR,CAA/B;;AAEA,KAAI,aAAa,KAAK,IAAL,CAAU,SAAV,EAAqB,MAArB,CAAjB;AACA,KAAG,EAAE,MAAM,UAAN,KAAqB,MAAM,KAAK,IAAL,CAAU,UAAV,EAAsB,MAAtB,CAAN,CAAvB,CAAH,EAAiE;AAC/D,UAAQ,MAAR,CAAe,KAAf,CAAqB,iHAAiH,UAAjH,GAA8H,IAAnJ;AACA,UAAQ,IAAR,CAAa,CAAb;AACD;;AAED,KAAI,MAAJ;AAAA,KAAY,SAAZ;AAAA,KAAuB,aAAa,EAApC;AACA,SAAO,QAAQ,IAAR,CAAa,MAApB;AACC,OAAK,CAAL;AACC,gBAAa,QAAQ,IAAR,CAAa,CAAb,CAAb;AACA;AACD,OAAK,CAAL;AACC,eAAY,QAAQ,IAAR,CAAa,CAAb,CAAZ;AACA,YAAS,QAAQ,IAAR,CAAa,CAAb,CAAT;AACA;AACD;AACC,WAAQ,MAAR,CAAe,KAAf,CAAqB,cAAc,QAAQ,IAAR,CAAa,CAAb,CAAd,GAAgC,GAAhC,GAAsC,KAAK,QAAL,CAAc,QAAQ,IAAR,CAAa,CAAb,CAAd,CAAtC,GAAuE,0CAAvE,GAAoH,IAAzI;AACA,WAAQ,IAAR,CAAa,CAAb;AAVF;;AAaA,KAAI,cAAc,EAAlB;AACA,uBAAsB,MAAtB,EAA8B,KAA9B,CAAoC,UAAS,GAAT,EAAc;AACjD,MAAG,MAAM,KAAK,IAAL,CAAU,UAAV,EAAsB,MAAtB,EAA8B,GAA9B,CAAN,CAAH,EAA8C;AAC7C,iBAAc,GAAd;AACA,UAAO,KAAP;AACA;AACD,SAAO,IAAP;AACA,EAND;AAOA,KAAG,YAAY,MAAZ,KAAuB,CAA1B,EAA6B;AAC5B,UAAQ,MAAR,CAAe,KAAf,CAAqB,yCAAyC,MAAzC,GAAkD,aAAvE;AACA,UAAQ,IAAR,CAAa,CAAb;AACA;AACD,SAAQ,MAAR,CAAe,KAAf,CAAqB,mBAAmB,WAAnB,GAAiC,IAAtD;AACA,KAAI,gBAAgB,iBAAiB,KAAK,IAAL,CAAU,UAAV,EAAsB,MAAtB,EAA8B,WAA9B,EAA2C,kBAA3C,CAAjB,CAApB;AACA,KAAI,eAAe,cAAc,IAAd,CAAmB,WAAnB,EAAgC,kBAAhC,CAAmD,WAAtE;AACA,KAAI,UAAU,iBAAiB,SAAjB,CAAd;AACA,KAAI,QAAJ,EAAc,KAAd,EAAqB,WAArB;AACA,MAAI,QAAJ,IAAgB,OAAhB,EAAyB;AACxB,MAAI,QAAQ,cAAR,CAAuB,QAAvB,CAAJ,EAAsC;AACrC,WAAQ,0CAA0C,IAA1C,CAA+C,QAA/C,CAAR;AACA,OAAG,KAAH,EAAU;AACT,kBAAc,MAAM,CAAN,EAAS,WAAT,EAAd;AACA,YAAQ,MAAR,CAAe,KAAf,CAAqB,sBAAsB,WAAtB,GAAoC,IAApC,GAA2C,QAAQ,QAAR,CAA3C,GAA+D,OAApF;AACA,QAAG,aAAa,cAAb,CAA4B,WAA5B,CAAH,EAA6C;AAC5C,aAAQ,MAAR,CAAe,KAAf,CAAqB,oBAAoB,aAAa,WAAb,CAApB,GAAgD,KAArE;AACA,aAAQ,QAAR,IAAoB,aAAa,WAAb,CAApB;AACA,KAHD,MAIK;AACJ,aAAQ,MAAR,CAAe,KAAf,CAAqB,sBAArB;AACA;AACD;AACD;AACD;AACD,KAAG,WAAW,MAAX,KAAsB,CAAzB,EAA4B;AAC3B,eAAa,SAAb;AACA;AACD,iBAAgB,UAAhB,EAA4B,OAA5B;AACA,SAAQ,MAAR,CAAe,KAAf,CAAqB,oBAAoB,UAApB,GAAkC,MAAvD;AACA,CA7DD,CA8DA,OAAM,CAAN,EAAS;AACR,SAAQ,MAAR,CAAe,KAAf,CAAqB,EAAE,OAAF,GAAY,IAAjC;AACA,SAAQ,IAAR,CAAa,CAAb;AACA;;AAED,SAAS,MAAT,CAAgB,IAAhB,EAAsB;AACrB,KAAI,IAAI,KAAR;AACA,KAAI,OAAO,IAAP,KAAiB,QAAlB,IAAgC,KAAK,MAAL,GAAc,CAAjD,EAAqD;AACpD,MAAI;AACH,OAAG,GAAG,UAAH,CAAc,IAAd,CAAH,EAAwB;AACvB,QAAG,GAAG,SAAH,CAAa,IAAb,EAAmB,MAAnB,EAAH,EAAgC;AAC/B,SAAI,IAAJ;AACA;AACD;AACD,GAND,CAOA,OAAM,CAAN,EAAS,CACR;AACD;AACD,QAAO,CAAP;AACA;;AAED,SAAS,KAAT,CAAe,IAAf,EAAqB;AACpB,KAAI,IAAI,KAAR;AACA,KAAI,OAAO,IAAP,KAAiB,QAAlB,IAAgC,KAAK,MAAL,GAAc,CAAjD,EAAqD;AACpD,MAAI;AACH,OAAG,GAAG,UAAH,CAAc,IAAd,CAAH,EAAwB;AACvB,QAAG,GAAG,SAAH,CAAa,IAAb,EAAmB,WAAnB,EAAH,EAAqC;AACpC,SAAI,IAAJ;AACA;AACD;AACD,GAND,CAOA,OAAM,CAAN,EAAS,CACR;AACD;AACD,QAAO,CAAP;AACA;;AAED,SAAS,qBAAT,CAA+B,MAA/B,EAAuC;AACtC,KAAI,WAAW,EAAf;AAAA,KAAmB,SAAS,EAA5B;AAAA,KAAgC,YAAY,EAA5C;AACA,QAAO,OAAP,CAAe,IAAf,EAAqB,GAArB,EAA0B,KAA1B,CAAgC,GAAhC,EAAqC,OAArC,CAA6C,UAAS,KAAT,EAAgB,KAAhB,EAAuB;AACnE,MAAG,UAAU,CAAb,EAAgB;AACf,cAAW,MAAM,WAAN,EAAX;AACA,GAFD,MAGK,IAAG,MAAM,MAAN,KAAiB,CAApB,EAAuB;AAC3B,OAAG,OAAO,MAAP,GAAgB,CAAnB,EAAsB;AACrB,UAAM,IAAI,KAAJ,CAAU,MAAM,MAAN,GAAe,oCAAzB,CAAN;AACA;AACD,YAAS,MAAM,MAAN,CAAa,CAAb,EAAgB,WAAhB,KAAgC,MAAM,MAAN,CAAa,CAAb,EAAgB,WAAhB,EAAzC;AACA,GALI,MAMA,IAAG,UAAU,MAAb,EAAqB;AACzB,SAAM,IAAI,KAAJ,CAAU,MAAM,MAAN,GAAe,oCAAzB,CAAN;AACA,GAFI,MAGA;AACJ,OAAG,cAAc,IAAd,CAAmB,KAAnB,KAA6B,cAAc,IAAd,CAAmB,KAAnB,CAAhC,EAA2D;AAC1D,gBAAY,MAAM,WAAN,EAAZ;AACA,IAFD,MAGK;AACL,YAAQ,GAAR,CAAY,KAAZ;AACC,UAAM,IAAI,KAAJ,CAAU,MAAM,MAAN,GAAe,oCAAzB,CAAN;AACA;AACD;AACD,EAtBD;AAuBA,KAAG,SAAS,MAAT,KAAoB,CAAvB,EAA0B;AACzB,QAAM,IAAI,KAAJ,CAAU,MAAM,MAAN,GAAe,oCAAzB,CAAN;AACA;AACD,KAAI,SAAS,EAAb;AACA,KAAI,OAAO,MAAP,GAAgB,CAAjB,IAAwB,UAAU,MAAV,GAAmB,CAA9C,EAAkD;AACjD,SAAO,IAAP,CAAY,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB,EAA8B,IAA9B,CAAmC,GAAnC,CAAZ;AACA;AACD,KAAG,OAAO,MAAP,GAAgB,CAAnB,EAAsB;AACrB,SAAO,IAAP,CAAY,CAAC,QAAD,EAAW,MAAX,EAAmB,IAAnB,CAAwB,GAAxB,CAAZ;AACA;AACD,KAAG,UAAU,MAAV,GAAmB,CAAtB,EAAyB;AACxB,SAAO,IAAP,CAAY,CAAC,QAAD,EAAW,SAAX,EAAsB,IAAtB,CAA2B,GAA3B,CAAZ;AACA;AACD,QAAO,IAAP,CAAY,QAAZ;AACA,QAAO,MAAP;AACA;;AAED,SAAS,gBAAT,CAA0B,IAA1B,EAAgC;AAC/B,KAAG,CAAC,OAAO,IAAP,CAAJ,EAAkB;AACjB,QAAM,IAAI,KAAJ,CAAU,qBAAqB,IAA/B,CAAN;AACA;AACD,KAAI,eAAe,GAAG,YAAH,CAAgB,IAAhB,CAAnB;AAAA,KAA0C,IAA1C;AACA,KAAI;AACH,SAAO,KAAK,KAAL,CAAW,YAAX,CAAP;AACA,EAFD,CAGA,OAAM,CAAN,EAAS;AACR,QAAM,IAAI,KAAJ,CAAU,6BAA6B,IAA7B,GAAoC,KAApC,GAA4C,EAAE,OAAxD,CAAN;AACA;AACD,QAAO,IAAP;AACA;AACD,SAAS,eAAT,CAAyB,IAAzB,EAA+B,IAA/B,EAAqC;AACpC,IAAG,aAAH,CAAiB,IAAjB,EAAuB,KAAK,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAvB;AACA","file":"cldr_localize-compiled.js","sourcesContent":["/* A little utility to translate Country names for Webogram.\n * You need to install nodejs.\n * Usage: node <thisfile> <languageCode> <inputFile> [outputFile]\n * If outputFile is not specified, inputFile will be overwritten.\n *\n * @author: Michele Locati <mlocati@gmail.com>\n * @licence: MIT\n */\ntry {\n\tvar fs = require('fs'), path = require('path');\n\n\tvar cldrFolder = path.join(__dirname, 'cldr');\n\tif(!(isDir(cldrFolder) && isDir(path.join(cldrFolder, 'main')))) {\n\t\t\tprocess.stderr.write('Please download the CLDR json data from http://cldr.unicode.org and extract it to the following directory:\\n' + cldrFolder + '\\n');\n\t\t\tprocess.exit(1);\n\t}\n\n\tvar locale, inputFile, outputFile = '';\n\tswitch(process.argv.length) {\n\t\tcase 5:\n\t\t\toutputFile = process.argv[4];\n\t\t\t/*-fallthrough*/\n\t\tcase 4:\n\t\t\tinputFile = process.argv[3];\n\t\t\tlocale = process.argv[2];\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tprocess.stderr.write('Syntax:\\n' + process.argv[0] + ' ' + path.basename(process.argv[1]) + ' <languageCode> <inputFile> [outputFile]' + '\\n');\n\t\t\tprocess.exit(1);\n\t}\n\n\tvar foundLocale = '';\n\tgetLocaleAlternatives(locale).every(function(loc) {\n\t\tif(isDir(path.join(cldrFolder, 'main', loc))) {\n\t\t\tfoundLocale = loc;\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\tif(foundLocale.length === 0) {\n\t\tprocess.stderr.write('Unable to find data folder for the \"' + locale + '\" language.');\n\t\tprocess.exit(1);\n\t}\n\tprocess.stdout.write('Found locale: ' + foundLocale + '\\n');\n\tvar territoryData = readJsonFromFile(path.join(cldrFolder, 'main', foundLocale, 'territories.json'));\n\tvar displayNames = territoryData.main[foundLocale].localeDisplayNames.territories;\n\tvar theData = readJsonFromFile(inputFile);\n\tvar inputKey, match, territoryID;\n\tfor(inputKey in theData) {\n\t\tif (theData.hasOwnProperty(inputKey)) {\n\t\t\tmatch = /^country_select_modal_country_([a-z]+)$/.exec(inputKey);\n\t\t\tif(match) {\n\t\t\t\tterritoryID = match[1].toUpperCase();\n\t\t\t\tprocess.stdout.write('Found territory: ' + territoryID + ' (' + theData[inputKey] + ')... ');\n\t\t\t\tif(displayNames.hasOwnProperty(territoryID)) {\n\t\t\t\t\tprocess.stdout.write('translated as \"' + displayNames[territoryID] + '\"\\n');\n\t\t\t\t\ttheData[inputKey] = displayNames[territoryID];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tprocess.stdout.write('NOT FOUND IN CLDR!\\n');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(outputFile.length === 0) {\n\t\toutputFile = inputFile;\n\t}\n\twriteJsonToFile(outputFile, theData);\n\tprocess.stdout.write('File written: \"' + outputFile  + '\"!\\n');\n}\ncatch(e) {\n\tprocess.stderr.write(e.message + '\\n');\n\tprocess.exit(1);\n}\n\nfunction isFile(path) {\n\tvar r = false;\n\tif((typeof(path) === 'string') && (path.length > 0)) {\n\t\ttry {\n\t\t\tif(fs.existsSync(path)) {\n\t\t\t\tif(fs.lstatSync(path).isFile()) {\n\t\t\t\t\tr = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch(x) {\n\t\t}\n\t}\n\treturn r;\n}\n\nfunction isDir(path) {\n\tvar r = false;\n\tif((typeof(path) === 'string') && (path.length > 0)) {\n\t\ttry {\n\t\t\tif(fs.existsSync(path)) {\n\t\t\t\tif(fs.lstatSync(path).isDirectory()) {\n\t\t\t\t\tr = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch(x) {\n\t\t}\n\t}\n\treturn r;\n}\n\nfunction getLocaleAlternatives(locale) {\n\tvar language = '', script = '', territory = '';\n\tlocale.replace(/_/g, '-').split('-').forEach(function(chunk, index) {\n\t\tif(index === 0) {\n\t\t\tlanguage = chunk.toLowerCase();\n\t\t}\n\t\telse if(chunk.length === 4) {\n\t\t\tif(script.length > 0) {\n\t\t\t\tthrow new Error('\"' + locale + '\" is not a valid locale identifier');\n\t\t\t}\n\t\t\tscript = chunk.charAt(0).toUpperCase() + chunk.substr(1).toLowerCase();\n\t\t}\n\t\telse if(territory.length) {\n\t\t\tthrow new Error('\"' + locale + '\" is not a valid locale identifier');\n\t\t}\n\t\telse {\n\t\t\tif(/^[a-z]{2}$/i.test(chunk) || /^[0-9]{3}$/i.test(chunk)) {\n\t\t\t\tterritory = chunk.toUpperCase();\n\t\t\t}\n\t\t\telse {\n\t\t\tconsole.log(chunk);\n\t\t\t\tthrow new Error('\"' + locale + '\" is not a valid locale identifier');\n\t\t\t}\n\t\t}\n\t});\n\tif(language.length === 0) {\n\t\tthrow new Error('\"' + locale + '\" is not a valid locale identifier');\n\t}\n\tvar result = [];\n\tif((script.length > 0) && (territory.length > 0)) {\n\t\tresult.push([language, script, territory].join('-'));\n\t}\n\tif(script.length > 0) {\n\t\tresult.push([language, script].join('-'));\n\t}\n\tif(territory.length > 0) {\n\t\tresult.push([language, territory].join('-'));\n\t}\n\tresult.push(language);\n\treturn result;\n}\n\nfunction readJsonFromFile(path) {\n\tif(!isFile(path)) {\n\t\tthrow new Error('File not found: ' + path);\n\t}\n\tvar fileContents = fs.readFileSync(path), data;\n\ttry {\n\t\tdata = JSON.parse(fileContents);\n\t}\n\tcatch(e) {\n\t\tthrow new Error('Error reading JSON file ' + path + ':\\n' + e.message);\n\t}\n\treturn data;\n}\nfunction writeJsonToFile(path, data) {\n\tfs.writeFileSync(path, JSON.stringify(data, null, 4));\n}\n"]}