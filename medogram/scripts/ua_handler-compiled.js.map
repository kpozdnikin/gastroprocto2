{"version":3,"sources":["ua_handler.js"],"names":[],"mappings":";;AAAA,IAAI,KAAK,QAAQ,IAAR,CAAT;AAAA,IAAwB,OAAO,QAAQ,MAAR,CAA/B;AACA,IAAI,SAAS,GAAG,YAAH,CAAgB,KAAK,IAAL,CAAU,SAAV,EAAqB,QAArB,CAAhB,CAAb;;AAGA,SAAS,OAAO,QAAP,GAAkB,KAAlB,CAAwB,IAAxB,CAAT;;AAGA,IAAI,MAAM,EAAV;AACA,IAAI,WAAW,EAAf;AACA,IAAI,kBAAkB,EAAtB;AACA,IAAI,UAAU,EAAd;;AAEA,IAAI,UAAU;AACb,MAAK,gBADQ;AAEb,UAAS,UAFI;AAGb,QAAO,QAHM;AAIb,MAAK,UAJQ;AAKb,MAAK,WALQ;AAMb,aAAY,kBANC;AAOb,WAAU,qBAPG;AAQb,WAAU,qBARG;AASb,OAAM;AATO,CAAd;;AAYA,IAAI,eAAe;AAClB,QAAO,QADW;AAElB,KAAI,iBAFc;AAGlB,SAAQ,SAHU;AAIlB,WAAU,WAJQ;AAKlB,SAAQ,qBALU;AAMlB,UAAS,UANS;AAOlB,aAAY;AAPM,CAAnB;;AAUA,IAAI,eAAe;AAClB,OAAM,OADY;AAElB,eAAc,wBAFI;AAGjB,aAAY,aAHK;AAIjB,aAAY;AAJK,CAAnB;;AAOA,OAAO,OAAP,CAAe,UAAU,MAAV,EAAkB;AAChC,KAAI,KAAK,SAAT;AACA,MAAK,IAAI,KAAT,IAAkB,OAAlB,EAA2B;AAC1B,MAAI,OAAO,KAAP,CAAa,QAAQ,KAAR,CAAb,CAAJ,EAAkC;AACjC,QAAK,KAAL;AACA;AACA;AACD;;AAED,KAAI,UAAU,SAAd;AACA,MAAK,IAAI,UAAT,IAAuB,YAAvB,EAAqC;AACpC,MAAI,OAAO,KAAP,CAAa,aAAa,UAAb,CAAb,CAAJ,EAA4C;AAC3C,aAAU,UAAV;AACA;AACA;AACD;;AAED,KAAI,UAAU,CACb,OAAO,KAAP,CAAa,eAAb,KACA,OAAO,KAAP,CAAc,+CAAd,CADA,IAEA,CAAC,CAAD,EAAG,GAAH,CAHa,EAIZ,CAJY,CAAd;;AAMA,KAAI,CAAC,IAAI,EAAJ,CAAL,EAAc;AACb,MAAI,EAAJ,IAAU,CAAV;AACA,EAFD,MAEO;AACN,MAAI,EAAJ;AACA;;AAED,KAAI,CAAC,SAAS,KAAK,GAAL,GAAW,OAApB,CAAL,EAAmC;AAClC,WAAS,KAAK,GAAL,GAAW,OAApB,IAA+B,CAA/B;AACA,EAFD,MAEO;AACN,WAAS,KAAK,GAAL,GAAW,OAApB;AACA;;AAED,KAAI,MAAM,SAAN,IAAmB,WAAW,SAAlC,EAA6C;AAC5C,UAAQ,IAAR,CAAa,MAAb;AACA;;AAED,KAAI,CAAC,gBAAgB,KAAK,GAAL,GAAW,OAAX,GAAqB,GAArB,GAA2B,OAA3C,CAAL,EAA0D;AACzD,kBAAgB,KAAK,GAAL,GAAW,OAAX,GAAqB,GAArB,GAA2B,OAA3C,IAAsD,CAAtD;AACA,EAFD,MAEO;AACN,kBAAgB,KAAK,GAAL,GAAW,OAAX,GAAqB,GAArB,GAA2B,OAA3C;AACA;AAED,CA7CD;;AAgDA,QAAQ,GAAR,CAAY,GAAZ;AACA,QAAQ,GAAR,CAAY,QAAZ;AACA,QAAQ,GAAR,CAAY,eAAZ;AACA","file":"ua_handler-compiled.js","sourcesContent":["var fs = require('fs'), path = require('path');\nvar uaList = fs.readFileSync(path.join(__dirname, 'ua.txt'));\n\n\nuaList = uaList.toString().split('\\n');\n\n\nvar OSs = {};\nvar browsers = {};\nvar browserVersions = {};\nvar unknown = [];\n\nvar osMatch = {\n\tios: /iOS|iPhone OS/i,\n\tandroid: /Android/i,\n\tlinux: /Linux/i,\n\twin: /Windows/i,\n\tosx: /Mac|OS X/i,\n\tblackberry: /BlackBerry|BB10/i,\n\tseries60: /Series 60|Series60/i,\n\tseries40: /Series 40|Series40/i,\n\tj2me: /J2ME|MIDP/i\n};\n\nvar browserMatch = {\n\topera: /opera/i,\n\tie: /msie|trident\\//i,\n\tchrome: /chrome/i,\n\tchromium: /chromium/i,\n\tsafari: /safari|AppleWebKit/i,\n\tfirefox: /firefox/i,\n\tblackberry: /BlackBerry/i\n};\n\nvar featureMatch = {\n\tipad: /ipad/i,\n\topera_mobile: /opera mini|opera mobi/i,\n  opera_mini: /opera mini/i,\n  blackberry: /blackberry/i\n};\n\nuaList.forEach(function (uaName) {\n\tvar os = 'unknown';\n\tfor (var curOs in osMatch) {\n\t\tif (uaName.match(osMatch[curOs])) {\n\t\t\tos = curOs;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tvar browser = 'unknown';\n\tfor (var curBrowser in browserMatch) {\n\t\tif (uaName.match(browserMatch[curBrowser])) {\n\t\t\tbrowser = curBrowser;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tvar version = (\n\t\tuaName.match(/MSIE ([\\d.]+)/) ||\n\t\tuaName.match( /.+(?:me|ox|on|rv|it|era|opr|ie)[\\/: ]([\\d.]+)/) ||\n\t\t[0,'0']\n\t)[1];\n\n\tif (!OSs[os]) {\n\t\tOSs[os] = 1;\n\t} else {\n\t\tOSs[os]++;\n\t}\n\n\tif (!browsers[os + ' ' + browser]) {\n\t\tbrowsers[os + ' ' + browser] = 1;\n\t} else {\n\t\tbrowsers[os + ' ' + browser]++;\n\t}\n\n\tif (os == 'unknown' || browser == 'unknown') {\n\t\tunknown.push(uaName);\n\t}\n\n\tif (!browserVersions[os + ' ' + browser + ' ' + version]) {\n\t\tbrowserVersions[os + ' ' + browser + ' ' + version] = 1;\n\t} else {\n\t\tbrowserVersions[os + ' ' + browser + ' ' + version]++;\n\t}\n\n})\n\n\nconsole.log(OSs);\nconsole.log(browsers);\nconsole.log(browserVersions);\n// console.log(unknown);\n\n"]}